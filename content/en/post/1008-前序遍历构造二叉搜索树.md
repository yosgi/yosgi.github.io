
---
title: "1008 - Construct Binary Search Tree from Preorder Traversal"
description: ""
categories:
  - leetcode
date: 2021-03-10 00:00:00
summary: ""
draft: false
original: 'content/zh/post/1008-前序遍历构造二叉搜索树.md'
---

# 1008. Construct Binary Search Tree from Preorder Traversal

**Published:** 2021-03-10

Time spent: did not finish

I couldn't finish this originally because I kept trying to come up with a stack-based solution. After looking at a stack answer later I realized the recursive approach is the simplest.

### Recursive (insertion) approach

The idea is straightforward — insert nodes into a BST one by one according to preorder.

Rules for inserting a value under a given node:

1. If the value is smaller than the node's value and the node's left child is empty, create the left child.
2. If the value is larger than the node's value and the node's right child is empty, create the right child.
3. If the value is smaller than the node's value and the left child exists, move to the left child and repeat.
4. If the value is larger than the node's value and the right child exists, move to the right child and repeat.

Traverse the preorder array and insert each value to build the BST.

```javascript
var bstFromPreorder = function(preorder) {
  var add = function (node, val) {
    if (val < node.val && !node.left) {
      node.left = new TreeNode(val);
      return;
    }
    if (val > node.val && !node.right) {
      node.right = new TreeNode(val);
      return;
    }
    if (val < node.val) add(node.left, val);
    if (val > node.val) add(node.right, val);
  };
  var root = new TreeNode(preorder.shift());
  for (let i = 0; i < preorder.length; i++) {
    add(root, preorder[i]);
  }
  return root;
};
```

````
