---
title: "102 - Binary Tree Level Order Traversal"
description: ""
categories:
  - leetcode
date: 2021-02-28 00:00:00
summary: ""
draft: false
original: 'content/zh/post/102-二叉树的层序遍历.md'
---

# 102. Binary Tree Level Order Traversal

**Published:** 2021-02-28

Level-order traversal itself is simple; the primary question is how to separate nodes by level. Here are two approaches: iterative and recursive.

### Iterative

One common iterative technique uses a queue with a null marker to indicate the end of a level:

1. Enqueue the root, then enqueue a null to mark the end of level 0.
2. Dequeue a node; if it's not null, enqueue its children and collect its value. If it is null, the level ended — push the collected level array to the result and, if the queue still contains nodes, enqueue another null to mark the next level's end.
3. Repeat while the queue is not empty.

⚠️ Note: If not handled correctly, a trailing null can remain and cause an infinite loop; ensure the loop termination logic prevents that.

```javascript
var levelOrder = function(root) {
    if (!root) return [];
    var que = [root, null];
    var res = [];
    var level = [];
    while (que.length) {
        var node = que.shift();
        if (node) {
            if (node.left) que.push(node.left);
            if (node.right) que.push(node.right);
            level.push(node.val);
        } else {
            res.push([...level]);
            level = [];
            if (que.length) que.push(null);
        }
    }
    return res;
};
```

### Recursive

The recursive solution carries the current level index as a parameter.

```javascript
var levelOrder = function(root) {
    if (!root) return [];
    var res = [];
    var walk = function(node, index) {
        if (!res[index]) res[index] = [];
        res[index].push(node.val);
        if (node.left) walk(node.left, index + 1);
        if (node.right) walk(node.right, index + 1);
    };
    walk(root, 0);
    return res;
};
```

Steps summary:

1. Allocate an array for the current level if needed.
2. Append the node's value to its level array.
3. Recurse on left and right children with level + 1.
